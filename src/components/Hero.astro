---
import Container from "../layouts/Container.astro";
import { getLangFromUrl, useTranslations } from '../i18n/utils';

const lang = getLangFromUrl(Astro.url);
const t = useTranslations(lang);

// Get the current year and calculate the years of experience since 2021-08-01
const currentYear = new Date().getFullYear();
const yearsOfExperience =
  currentYear -
  2021 -
  (new Date().getMonth() < 7 ||
  (new Date().getMonth() === 7 && new Date().getDate() < 1)
    ? 1
    : 0);
---
<section class="h-screen w-full flex flex-col text-white relative">
  <!-- Navigation -->
  <Container size="xl">
    <nav class="flex justify-between items-center">
      <ul class="flex space-x-8 text-white font-light text-sm">
        <li><a href="/" class="hover:underline">{t('nav.home')}</a></li>
        <li>
          <a href="https://medium.com/@paul.pietzko" class="hover:underline"
            >Blog</a
          >
        </li>
        <li><a href="/references" class="hover:underline">{t('nav.references')}</a></li>
        <li><a href="/imprint" class="hover:underline">{t('nav.imprint')}</a></li>
      </ul>
      <a
        href="mailto:paul.pietzko@icloud.com"
        class="relative border rounded-md border-white px-4 py-2 text-white overflow-hidden group"
      >
        <span
          class="absolute inset-0 bg-white transform scale-x-0 origin-left transition-transform duration-300 ease-out group-hover:scale-x-100"
        ></span>
        <span class="relative z-10 text-white group-hover:text-black"
          >{t('nav.contact')}</span
        >
      </a>
    </nav>
  </Container>

  <!-- Hero Content -->
  <Container size="xl">
    <div class="absolute bottom-[8rem] px-4">
      <h1 class="name text-[10rem] font-bold leading-[0.8]">
        Paul <span class="text-[8rem] md:text-[15rem] block bg-yellow-300 text-black px-2"
          >Pietzko</span
        >
      </h1>
      <p class="mt-4 text-gray-300 max-w-md">
        I'm a Frontend Developer from Switzerland with {yearsOfExperience} years
        of experience.
      </p>
    </div>
  </Container>

  <!-- Overlay Image -->
  <div class="absolute right-0 bottom-0 w-full md:w-auto">
    <div class="h-full w-full">
      <img
        src="/images/portfolio-hero-image.png"
        alt="Paul Pietzko"
        class="opacity-40 w-full md:w-auto"
      />
    </div>
  </div>
</section>

<!-- Tailwind Styles -->
<style>
  @import url("https://fonts.googleapis.com/css2?family=DM+Serif+Display:ital@0;1&display=swap");

  .name {
    font-family: "DM Serif Display", serif;
    font-weight: 500;
    font-style: normal;
  }
</style>
